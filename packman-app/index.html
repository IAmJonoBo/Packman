<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Packman</title>
    <style>
      body {
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        margin: 0;
        padding: 0;
      }

      main {
        max-width: 920px;
        margin: 0 auto;
        padding: 24px;
      }

      h1 {
        margin: 0 0 16px;
      }

      section {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 12px;
      }

      button {
        margin-right: 8px;
      }

      pre {
        background: #f6f6f6;
        padding: 12px;
        overflow: auto;
        border-radius: 8px;
      }
    </style>
  </head>

  <body>
    <main>
      <h1>Packman</h1>
      <section>
        <h2>Library</h2>
        <button id="pick-source">Pick source pack folder</button>
        <p id="source-path">No source selected</p>
      </section>
      <section>
        <h2>Validate</h2>
        <label><input type="checkbox" id="strict-toggle" /> Strict mode</label>
        <button id="validate-btn">Validate</button>
      </section>
      <section>
        <h2>Normalise</h2>
        <button id="normalize-preview-btn">Preview normalization</button>
      </section>
      <section>
        <h2>Install</h2>
        <button id="pick-target">Pick install target</button>
        <label for="collision-mode">Collision mode</label>
        <select id="collision-mode">
          <option value="fail" selected>fail</option>
          <option value="skip">skip</option>
          <option value="overwrite">overwrite</option>
          <option value="rename">rename</option>
        </select>
        <label for="collision-decisions"
          >Collision decisions JSON (optional)</label
        >
        <textarea
          id="collision-decisions"
          rows="5"
          style="width: 100%; margin-top: 8px"
          placeholder='{".github/prompts/foo.prompt.md":"rename"}'
        ></textarea>
        <button id="load-decisions">Load decisions</button>
        <button id="save-decisions">Save decisions</button>
        <button id="install-plan">Plan install</button>
        <button id="install-dry-run">Dry-run install</button>
        <button id="install-apply">Apply install</button>
        <p id="target-path">No target selected</p>
      </section>
      <section>
        <h2>Tools</h2>
        <button id="doctor-btn">Doctor</button>
        <button id="readiness-btn">Readiness</button>
        <button id="registry-btn">Generate registry</button>
      </section>
      <section>
        <h2>Output</h2>
        <pre id="output">{}</pre>
      </section>
      <section>
        <h2>Collision Summary</h2>
        <div id="collision-summary">No install plan loaded.</div>
      </section>
    </main>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
